#pragma once

#include <Graphics/ResourceManager.hpp>
#include <Graphics/TileMap.hpp>
#include <Light.hpp>

class Level
{
public:
	Level();

    void levelSetup(Graphics::Image& surface);

    void levelUnload();

    Graphics::TileMap& getTileMap();

    const uint32_t getHorizontalOffset() const
    {
        return horizontalOffset;
    }

    const uint32_t getVerticalOffset() const
    {
        return verticalOffset;
    }

private:
	const int map[432] = {
    7,  9,  9,  9,  9,  9,  9,  9,  9,  9,  10, 7,  9,  9,  9,  10, 6,  7,  9,  9,  9,  9,  9,  10,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,  11, 12, 12, 12, 1,  6,  11, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,  11, 12, 12, 12, 1,  6,  11, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 8,  15, 12, 12, 12, 8,  9,  15, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    11, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 1,
    2,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  3,  5
    };

    const BoxCollider obstacles[2] = {
        Math::AABB{{192, 144, 0}, {576, 160, 1}},
        Math::AABB{{0, 0, 0}, {1, 1, 1}}
    };

    Graphics::TileMap groundTiles;

    const uint32_t horizontalOffset = 0;
    const uint32_t verticalOffset = 0;

    const uint32_t numRows = 24 - horizontalOffset;
    const uint32_t numColumns = 18 - verticalOffset;
    
    glm::vec2 arrayOfPositions[4]{ {192, 144}, {576, 144}, {192, 432}, {576, 432} };
};
